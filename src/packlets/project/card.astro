---
import { Image } from 'astro:assets'
import { clsx } from 'clsx'
import omit from 'lodash/omit'
import dayjs from 'dayjs'

import type { AnchorProps, Project } from '$project/types'

type Props = AnchorProps & Project

const { title, description, url, image, date, anchorProps, ...rest } = Astro.props
---

<a
  href={url}
  {...omit(rest, 'class')}
  {...omit(anchorProps, 'class')}
  class={clsx(
    'border px-6 py-4 rounded-xl space-y-4 sm:flex gap-4 justify-center items-center shadow',
    rest.class,
    anchorProps?.class
  )}
>
  {
    image && (
      <Image src={image} alt={title} class="w-auto h-full max-h-[200px] sm:w-20 sm:h-20 rounded-xl mx-auto" />
    )
  }
  <div>
    <h1 class="text-2xl font-bold">{title}</h1>
    <p>
      {description}
    </p>
    <p class="text-gray-600 text-sm">Published: {dayjs(date).format('DD MMM YYYY ')}</p>
  </div>
</a>
